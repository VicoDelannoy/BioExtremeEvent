<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convert temperature data to Celsius â€¢ BioExtremeEvent</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Convert temperature data to Celsius">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BioExtremeEvent</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/BioExtremeEvent.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/calc_baseline.html">Compute a threshold value.Rmd</a>
    </li>
    <li>
      <a href="../articles/calc_celsius.html">Convert temperature data to Celsius</a>
    </li>
    <li>
      <a href="../articles/data_load_corpernicus.html">Dowload data from Copernicus</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/VicoMarbec/BioExtremeEvent/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Convert temperature data to Celsius</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/VicoMarbec/BioExtremeEvent/blob/main/vignettes/calc_celsius.Rmd" class="external-link"><code>vignettes/calc_celsius.Rmd</code></a></small>
      <div class="hidden name"><code>calc_celsius.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="aim-of-the-function-bee-calc-celsius">Aim of the function <em>BEE.calc.celsius()</em><a class="anchor" aria-label="anchor" href="#aim-of-the-function-bee-calc-celsius"></a>
</h2>
<p>Identifies the unit of a temperature spatraster and convert the
pixels values into celsius degrees. If the pixel values are modified,
the units metadata of the spatraster is updated to celsius.</p>
</div>
<div class="section level2">
<h2 id="data-for-this-tutorial">Data for this tutorial<a class="anchor" aria-label="anchor" href="#data-for-this-tutorial"></a>
</h2>
<p>A Spatraster imported containning the sea surface temperature in the
Gulf of Lion from the 1st of January 2023 to the 31th of Decembre 2025.
There are only one variable in the spatraster (sea surface
temperature).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Load the example dataset in R environement :</span></span>
<span><span class="va">file_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"copernicus_example_data.nc"</span><span class="op">)</span>,</span>
<span>                                   package <span class="op">=</span> <span class="st">"BioExtremeEvent"</span><span class="op">)</span></span>
<span><span class="va">copernicus_data</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">file_name</span><span class="op">)</span></span></code></pre></div>
<p>The original dataset is in Kelvin :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">copernicus_data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="co">#first layer only</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "kelvin"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="argument">Argument:<a class="anchor" aria-label="anchor" href="#argument"></a>
</h3>
<p>The function takes only one argument, your dataset.</p>
</div>
<div class="section level3">
<h3 id="warnings">Warnings:<a class="anchor" aria-label="anchor" href="#warnings"></a>
</h3>
<p>You will receive a warning if :</p>
<ul>
<li>various units are detected for a same layer.</li>
<li>different layers have different units.</li>
<li>some layers have no unit declared, you will have to declare a
unit.</li>
<li>the dataset is already in Celsius degrees.</li>
<li>if a layer has a unit that is not recognise by the function (see
bellow).</li>
</ul>
</div>
<div class="section level3">
<h3 id="messages">Messages:<a class="anchor" aria-label="anchor" href="#messages"></a>
</h3>
<p>If your dataset was in Kelvin or Fahrenheit, you will receive a
message saying which conversion has been done.</p>
</div>
<div class="section level3">
<h3 id="example-with-a-dataset-in-kelvin">Example with a dataset in Kelvin<a class="anchor" aria-label="anchor" href="#example-with-a-dataset-in-kelvin"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Apply function :</span></span>
<span><span class="va">copernicus_data_celsius</span> <span class="op">&lt;-</span> <span class="fu">BioExtremeEvent</span><span class="fu">::</span><span class="fu"><a href="../reference/BEE.calc.celsius.html">BEE.calc.celsius</a></span><span class="op">(</span><span class="va">copernicus_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in BioExtremeEvent::BEE.calc.celsius(copernicus_data): Your data were in Kelvin and have been converted to Celsius using:</span></span>
<span><span class="co">##             former value - 273.15 = new value.</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Values after applying functions : </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/values.html" class="external-link">values</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">copernicus_data_celsius</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                   dataframe<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># first pixels are on land so their value is NA</span></span></code></pre></div>
<pre><code><span><span class="co">##    analysed_sst_1</span></span>
<span><span class="co">## 17       13.83999</span></span>
<span><span class="co">## 18       13.76000</span></span>
<span><span class="co">## 19       13.76000</span></span>
<span><span class="co">## 20       13.79998</span></span>
<span><span class="co">## 21       13.92999</span></span>
<span><span class="co">## 22       14.05999</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Checking the unit of the spatraster :</span></span>
<span> <span class="co">#### Before using BEE.calc.celsius :</span></span>
<span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">copernicus_data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "kelvin"</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="co">#### After using BEE.calc.celsius : </span></span>
<span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">copernicus_data_celsius</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Celsius"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="example-with-a-dataset-already-in-celsius">Example with a dataset already in Celsius<a class="anchor" aria-label="anchor" href="#example-with-a-dataset-already-in-celsius"></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Apply function :</span></span>
<span><span class="va">copernicus_data_celsius</span> <span class="op">&lt;-</span> <span class="fu">BioExtremeEvent</span><span class="fu">::</span><span class="fu"><a href="../reference/BEE.calc.celsius.html">BEE.calc.celsius</a></span><span class="op">(</span><span class="va">copernicus_data_celsius</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Your dataset is already in celsius, there is no need to use this function."</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Victoria Delannoy.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
